#!/bin/bash

# Script to version the ohm-js package.

set -e

if [ "$(git status --porcelain | grep -v '??')" != "" ]; then
  echo "Error: git working directory not clean -- run 'git status' for more info."
  exit 1
fi

echo "ðŸ‘«  Updating the list of contributors..."
json -I -f "package.json" -e "this.contributors=[$(./scripts/get-contributors)]"
git add package.json
git commit -am "Update contributors" > /dev/null

echo "âœ…  ohm-js v${new_version}"
echo "ðŸ‘‰  Now go to https://github.com/harc/ohm/releases and create a release."
